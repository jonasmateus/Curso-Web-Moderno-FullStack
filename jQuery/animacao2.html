<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Animação #02</title>
    <link rel='stylesheet' href='css/estilo.css'>
    <script src='js/jquery.js'></script>
    <style>
        body {
            position: relative;
            background-color:#0D262D;
            color: #000;
        }

        div {
            position: absolute;
            display: inline;
            border: solid 5px gold;
            padding: 50px;
            font-size: 3em;
            background-color:lightgray;
        }
    </style>
</head>

<body>
    <div>Animar!</div>

    <script>

        function changeWidth (value, timeRange) {

            $('div').animate({ width: `+=${value}`}, timeRange)

            return new Promise(function ( resolve, reject ) {
               
                    resolve(value, timeRange)
                
            })

        }

        function diagonalMotion (value, timeRange) {

            $('div').animate({
                top: `+=${value}`,
                left: `+=${value}`
            })

        }

        function spinMotion(value, timeRange) {

            $('div').animate({ transform: `+=${value}`}, {

                step: function (value) {
                    $(this).css('transform', `rotate(${value}deg)`)
                },

                duration: timeRange

            }, 'linear')

        }

         changeWidth(300, 100).then(() => changeWidth(-300, 'slow')).then( () => diagonalMotion(300, 6000))
         .then(() => spinMotion(720, 500))
        

    </script>
</body>